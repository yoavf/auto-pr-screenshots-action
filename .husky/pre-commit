echo "ğŸ” Running pre-commit checks..."

# Run lint-staged on changed files
echo "ğŸ“ Running lint-staged..."
if ! pnpm lint-staged; then
  echo "âŒ lint-staged failed"
  exit 1
fi

# Run type check
echo "ğŸ” Running type check..."
if ! pnpm check; then
  echo "âŒ Type check failed"
  exit 1
fi

# Run tests
echo "ğŸ§ª Running tests..."
if ! pnpm test; then
  echo "âŒ Tests failed"
  exit 1
fi

# Build the project and add dist files
echo "ğŸ”¨ Building project..."
if ! pnpm build; then
  echo "âŒ Build failed"
  exit 1
fi

echo "ğŸ“¦ Adding dist files to commit..."
git add dist/

echo "âœ… All pre-commit checks passed!"